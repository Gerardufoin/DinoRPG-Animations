// @ts-check
import { ref } from '../references.js';
import { fx_explosion } from './explosion.js';

const smoke = [
	{
		...fx_explosion,
		colorMultiplier: {
			r: 0,
			g: 0,
			b: 0
		},
		blur: {
			x: 2,
			y: 2,
			quality: 1
		}
	}
];

// GFX 893 mcDetonation
export const fx_detonation = {
	parts: {
		smk1: smoke,
		smk2: smoke,
		smk3: smoke,
		exp1: [
			{
				ref: ref.fx.explo_1
			}
		],
		exp2: [
			{
				ref: ref.fx.explo_2
			}
		],
		exp3: [
			{
				ref: ref.fx.explo_3
			}
		],
		exp3a: [
			{
				ref: ref.fx.explo_3
			}
		],
		exp4: [
			{
				ref: ref.fx.explo_4
			}
		],
		exp4a: [
			{
				ref: ref.fx.explo_4
			}
		],
		exp5: [
			{
				ref: ref.fx.explo_5
			}
		],
		exp5a: [
			{
				ref: ref.fx.explo_5
			}
		],
		exp6: [
			{
				ref: ref.fx.explo_6
			}
		],
		exp6a: [
			{
				ref: ref.fx.explo_6
			}
		]
	},
	animation: {
		id: 'fx_detonation',
		callbacks: {
			2: [['resetChildAnimations', 'smk1']],
			3: [['resetChildAnimations', 'smk2']],
			4: [['resetChildAnimations', 'smk3']],
			13: [['destroy']]
		},
		frames: [
			{
				exp1: {
					tx: -1.15,
					ty: 0.15,
					a: 1.37,
					d: 1.37,
					l: 0
				}
			},
			{
				exp1: {
					tx: -4.35,
					ty: -1.45,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 1
				},
				exp2: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 0
				}
			},
			{
				exp1: {
					tx: 10.95,
					ty: 0.25,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 3
				},
				exp2: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 2
				},
				exp3: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 0
				}
			},
			{
				exp2: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 4
				},
				exp3: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 2
				},
				exp3a: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -3,
					a: 1.37,
					d: 1.37,
					alpha: 0.891,
					l: 0
				}
			},
			{
				exp3: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 4
				},
				exp3a: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -2.45,
					ty: 0.8,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.891,
					l: 2
				},
				exp4: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -7.5,
					a: 1.37,
					d: 1.37,
					alpha: 0.777,
					l: 0
				}
			},
			{
				exp3: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 8.4,
					ty: 1.7,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.891,
					l: 4
				},
				exp4: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -3.15,
					ty: 2.85,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.777,
					l: 2
				},
				exp4a: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -12.1,
					a: 1.37,
					d: 1.37,
					alpha: 0.668,
					l: 0
				}
			},
			{
				exp4: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 6.55,
					ty: 0.65,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.777,
					l: 4
				},
				exp4a: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -3.9,
					ty: 4.9,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.668,
					l: 2
				},
				exp5: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -16.7,
					a: 1.37,
					d: 1.37,
					alpha: 0.555,
					l: 0
				}
			},
			{
				exp4: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 4.65,
					ty: -0.45,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.668,
					l: 4
				},
				exp5: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -4.6,
					ty: 7,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.555,
					l: 2
				},
				exp5a: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -21.2,
					a: 1.37,
					d: 1.37,
					alpha: 0.445,
					l: 0
				}
			},
			{
				exp5: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 2.75,
					ty: -1.55,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.555,
					l: 4
				},
				exp5a: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -5.3,
					ty: 9,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.445,
					l: 2
				},
				exp6: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -25.8,
					a: 1.37,
					d: 1.37,
					alpha: 0.332,
					l: 0
				}
			},
			{
				exp5: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 5
				},
				smk3: {
					tx: 0.9,
					ty: -2.65,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.445,
					l: 4
				},
				exp6: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 3
				},
				smk2: {
					tx: -6.05,
					ty: 11.1,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.332,
					l: 2
				},
				exp6a: {
					tx: -6.5,
					ty: 1.6,
					a: 1.37,
					d: 1.37,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -30.4,
					a: 1.37,
					d: 1.37,
					alpha: 0.223,
					l: 0
				}
			},
			{
				exp6: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 4
				},
				smk3: {
					tx: -1,
					ty: -3.75,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.332,
					l: 3
				},
				exp6a: {
					tx: -1.75,
					ty: -1.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					l: 2
				},
				smk2: {
					tx: -6.75,
					ty: 13.15,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.223,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -34.9,
					a: 1.37,
					d: 1.37,
					alpha: 0.109,
					l: 0
				}
			},
			{
				exp6: {
					tx: 10.3,
					ty: 2.8,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					l: 3
				},
				smk3: {
					tx: -2.9,
					ty: -4.85,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.223,
					l: 2
				},
				smk2: {
					tx: -7.45,
					ty: 15.2,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0.109,
					l: 1
				},
				smk1: {
					tx: -6.5,
					ty: -39.55,
					a: 1.37,
					d: 1.37,
					alpha: 0,
					l: 0
				}
			},
			{
				smk3: {
					tx: -4.8,
					ty: -5.9,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0.109,
					l: 1
				},
				smk2: {
					tx: -8.2,
					ty: 17.25,
					a: -0.616,
					b: -0.214,
					c: 0.214,
					d: -0.616,
					alpha: 0,
					l: 0
				}
			},
			{
				smk3: {
					tx: -6.7,
					ty: -7,
					a: 0.327,
					b: -0.566,
					c: 0.566,
					d: 0.327,
					alpha: 0,
					l: 0
				}
			}
		]
	}
};
